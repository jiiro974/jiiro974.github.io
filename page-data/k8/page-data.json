{"componentChunkName":"component---src-templates-blog-post-js","path":"/k8/","result":{"data":{"markdownRemark":{"html":"<p>Micro cluster kubernetes</p>\n<!--more-->\n<ul>\n<li>machines en vps</li>\n<li>ubuntu 18.04 LTS</li>\n<li>microk8s [https://microk8s.io/docs/]</li>\n</ul>\n<p>pour :</p>\n<ul>\n<li>faire des machines de dev pour les tests</li>\n<li>intégrer mesh</li>\n<li>test cluster HA </li>\n</ul>\n<h2>hosts</h2>\n<p>vps802483\nvps802484</p>\n<h2>zsh</h2>\n<p>permet d'avoir la completion sur les commandes</p>\n<p>qq alias Zsh :</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">alias kubectl=&quot;microk8s.kubectl&quot;\nalias kga=&quot;kubectl get all --all-namespaces&quot;\nalias kg=&quot;kubectl get&quot;</code></pre></div>\n<h2>kga</h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">root@vps802483√ ~ # kga                                                                                                                                                                                                              20-04-07 8:16:13\nNAMESPACE        NAME                                                  READY   STATUS    RESTARTS   AGE\ndefault          pod/microbot-5bb7fd7f5d-mj9l5                         1/1     Running   1          19d\ndefault          pod/microbot-5bb7fd7f5d-ssqnl                         1/1     Running   1          19d\ndefault          pod/microbot-5bb7fd7f5d-zrmft                         1/1     Running   4          20d\ndefault          pod/ovpn-openvpn-7b78f97f5f-9s5gz                     1/1     Running   1          19d\ndefault          pod/ovpn-openvpn-7b78f97f5f-dr4m2                     1/1     Running   5          19d\nkube-system      pod/coredns-9b8997588-7xhwh                           1/1     Running   5          20d\nkube-system      pod/dashboard-metrics-scraper-687667bb6c-tb6t7        1/1     Running   5          20d\nkube-system      pod/heapster-v1.5.2-5c58f64f8b-747m4                  4/4     Running   18         20d\nkube-system      pod/hostpath-provisioner-7b9cb5cdb4-klpdw             1/1     Running   5          20d\nkube-system      pod/kubernetes-dashboard-5c848cc544-5phjm             1/1     Running   4          20d\nkube-system      pod/monitoring-influxdb-grafana-v4-6d599df6bf-gbthz   2/2     Running   9          20d\nkube-system      pod/pragma-traefik-58fc55b587-5pkvv                   1/1     Running   1          19d\nmetallb-system   pod/controller-65895b47d4-hj7vs                       1/1     Running   1          19d\nmetallb-system   pod/speaker-p2lpq                                     1/1     Running   5          19d\nmetallb-system   pod/speaker-vsx8k                                     1/1     Running   1          19d\n\nNAMESPACE     NAME                                TYPE           CLUSTER-IP       EXTERNAL-IP    PORT(S)                      AGE\ndefault       service/kubernetes                  ClusterIP      10.152.183.1     &lt;none&gt;         443/TCP                      20d\ndefault       service/microbot                    LoadBalancer   10.152.183.206   x.x.x.36   80:32549/TCP                 19d\ndefault       service/microbot-service            NodePort       10.152.183.214   &lt;none&gt;         80:30852/TCP                 20d\ndefault       service/ovpn-openvpn                LoadBalancer   10.152.183.105   x.x.x.14   443:31868/UDP                19d\nkube-system   service/dashboard-metrics-scraper   ClusterIP      10.152.183.197   &lt;none&gt;         8000/TCP                     20d\nkube-system   service/heapster                    ClusterIP      10.152.183.237   &lt;none&gt;         80/TCP                       20d\nkube-system   service/kube-dns                    ClusterIP      10.152.183.10    &lt;none&gt;         53/UDP,53/TCP,9153/TCP       20d\nkube-system   service/kubernetes-dashboard        ClusterIP      10.152.183.234   &lt;none&gt;         443/TCP                      20d\nkube-system   service/monitoring-grafana          ClusterIP      10.152.183.239   &lt;none&gt;         80/TCP                       20d\nkube-system   service/monitoring-influxdb         ClusterIP      10.152.183.95    &lt;none&gt;         8083/TCP,8086/TCP            20d\nkube-system   service/pragma-traefik              LoadBalancer   10.152.183.147   x.x.x.13   443:30722/TCP,80:30862/TCP   19d\n\nNAMESPACE        NAME                     DESIRED   CURRENT   READY   UP-TO-DATE   AVAILABLE   NODE SELECTOR                 AGE\nmetallb-system   daemonset.apps/speaker   2         2         2       2            2           beta.kubernetes.io/os=linux   19d\n\nNAMESPACE        NAME                                             READY   UP-TO-DATE   AVAILABLE   AGE\ndefault          deployment.apps/microbot                         3/3     3            3           20d\ndefault          deployment.apps/ovpn-openvpn                     2/2     2            2           19d\nkube-system      deployment.apps/coredns                          1/1     1            1           20d\nkube-system      deployment.apps/dashboard-metrics-scraper        1/1     1            1           20d\nkube-system      deployment.apps/heapster-v1.5.2                  1/1     1            1           20d\nkube-system      deployment.apps/hostpath-provisioner             1/1     1            1           20d\nkube-system      deployment.apps/kubernetes-dashboard             1/1     1            1           20d\nkube-system      deployment.apps/monitoring-influxdb-grafana-v4   1/1     1            1           20d\nkube-system      deployment.apps/pragma-traefik                   1/1     1            1           19d\nmetallb-system   deployment.apps/controller                       1/1     1            1           19d\n\nNAMESPACE        NAME                                                        DESIRED   CURRENT   READY   AGE\ndefault          replicaset.apps/microbot-5bb7fd7f5d                         3         3         3       20d\ndefault          replicaset.apps/ovpn-openvpn-7b78f97f5f                     2         2         2       19d\nkube-system      replicaset.apps/coredns-9b8997588                           1         1         1       20d\nkube-system      replicaset.apps/dashboard-metrics-scraper-687667bb6c        1         1         1       20d\nkube-system      replicaset.apps/heapster-v1.5.2-5c58f64f8b                  1         1         1       20d\nkube-system      replicaset.apps/hostpath-provisioner-7b9cb5cdb4             1         1         1       20d\nkube-system      replicaset.apps/kubernetes-dashboard-5c848cc544             1         1         1       20d\nkube-system      replicaset.apps/monitoring-influxdb-grafana-v4-6d599df6bf   1         1         1       20d\nkube-system      replicaset.apps/pragma-traefik-58fc55b587                   1         1         1       19d\nmetallb-system   replicaset.apps/controller-65895b47d4                       1         1         1       19d</code></pre></div>","frontmatter":{"title":"Cluster K8"}}},"pageContext":{"slug":"/k8/"}}}